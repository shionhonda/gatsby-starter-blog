---
title: 書評『効果検証入門』
date: "2020-08-20T23:02:03.284Z"
description: "『効果検証入門』のまとめと感想です．"
featuredImage: book_review_yasui/ogp.jpg
tags: ["ja", "book", "causal-inference"]
---
## はじめに

『効果検証入門 正しい比較のための因果推論／計量経済学の基礎』（安井翔太 著 株式会社ホクソエム 監修 技術評論社）を読んだので，まとめと感想を書きます．

<iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=hippocampus09-22&language=ja_JP&o=9&p=8&l=as4&m=amazon&f=ifr&ref=as_ss_li_til&asins=B0834JN23Y&linkId=35022c21b344c6be11cad5d4c6a15cc4"></iframe>

まず、タイトルに含まれる「効果検証」や「因果推論」といった用語には説明が必要かもしれない（私が学部生だった頃は知らなかった）ので、まえがきの例を借りて簡単に説明します。例えば、学費の高いA大学と安いB大学の「教育効果」を比較したいとします。便宜上「教育効果」を「卒業後の収入」で測定することにして、両大学の卒業生の平均収入を比較しましょう。もしA大学の卒業生の収入が高かったとしても、「A大学の教育効果が高い」と結論づけるのは早計です。なぜなら、学費の高いA大学の卒業生は入学前からそれなりの資産を持っていた可能性が高く、そのことが卒業生の収入を押し上げる要因となり得るからです。すなわち、いずれかの大学の卒業生の収入が高かったからといって、それが大学の教育によるものだという「因果関係」を説明することはできないということです。

上記の例は少し考えれば当たり前のことですが、世の中には因果関係を誤認している例が蔓延しています。「〇〇をしたら病気が治った」「〇〇政権で景気が良くなった」「〇〇したら売上が上がった」などは、どれもその事実だけから因果関係、すなわち「〇〇」の効果を検証することはできません。

とはいえ、このような効果はどうしても知りたくなることがありますよね（特に、薬効の検証は生命に関わります）。このような薬や政策、広告などの効果を検証する営みを「**効果検証**」と呼び、そのために因果関係を推定する方法論を考える学問分野を「**因果推論**」と呼びます。

因果推論は歴史的に疫学の分野で発展してきましたが、近年ではデジタルマーケティングやデータサイエンスの流行により、広告やマーケティングの文脈でABテストを始めとする因果推論のアイディアが使われるケースが急増しているようです。一方、因果推論を学ぶための教材はその流行に追いついていない印象で、私自身も、かつてHernán & Robinsの『[Causal Inference: What If](https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/)』を苦労しながら読んだ経験があります（文字ばかりで読みづらかったです）。

そのような中で2020年1月31日に刊行されたのが『効果検証入門』です。著者はサイバーエージェントの安井翔太氏で、経済学と機械学習の融合分野の第一線で活躍されている方です。本書は発売されるやいなや、界隈から待ってましたと言わんばかりの反応を持って迎えられていました。著名なデータサイエンティストであるTJO氏の[ブログ](https://tjo.hatenablog.com/entry/2020/01/24/190000)をはじめ、書評はネット上に多数見ることができます。

## まとめ
本書は、応用目線で〜〜

（「はじめに」で張り切りすぎたので、以降の内容的なところはごく簡潔にまとめるに留めます。）
### 1章 セレクションバイアスとRCT
1章ではまず、「はじめに」で出した例のどこに問題があるのかを、**セレクションバイアス**という概念を使って説明します。その後、無作為な介入によってセレクションバイアスを取り除ける理想的な効果検証の方法である**ランダム化比較試験 (RCT; randomized controlled trial)** （文脈によっては**ABテスト**とも）を紹介します。ABテストはエンジニアの方にとって馴染み深いものだと思いますが、病気に苦しんでいる患者に出す薬や、国民全員が対象となる政策などの効果検証にABテストを用いることはできません。したがって、以降では、RCTによらずバイアスに対処するための方法を考えていくことになります。

### 2章 介入効果を測るための回帰分析
2章では、**共変量 (covariate)** から**アウトカム (outcome)** を説明する回帰モデルを作り、その係数によって因果効果を推定する方法を紹介します。

### 3章 傾向スコアを用いた分析
### 4章 差分の差分法(DID)とCausalImpact
### 5章 回帰不連続デザイン(RDD)
### 因果推論をビジネスにするために

## 関連書籍
『測りすぎ――なぜパフォーマンス評価は失敗するのか？』（Jerry Z. Muller 著 松本裕 訳 みすず書房）

<iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=hippocampus09-22&language=ja_JP&o=9&p=8&l=as4&m=amazon&f=ifr&ref=as_ss_li_til&asins=4622087936&linkId=bf0bd2b99ec95dd1235912a91d294eaa"></iframe>